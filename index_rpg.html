<!DOCTYPE html>
<html>
  <head>
	<title>RPG JS</title>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<meta name="description" content="Create your RPG 2D browser - Free and OpenSource" />
	
	<link href="css/bootstrap.min.css" media="all" rel="stylesheet" type="text/css" />
	<link href="css/custom.css" media="all" rel="stylesheet" type="text/css" />
	
	<script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
	<script src="js/bootstrap.min.js"></script>
	
	<script src="https://cdn.rawgit.com/RSamaium/CanvasEngine/master/canvasengine-1.3.2.all.min.js"></script>
	<script src="https://cdn.rawgit.com/RSamaium/CanvasEngine/master/extends/gamepad.js"></script>
	<script src="//rpgjs.com/cdn/rpgjs-latest.min.js"></script>
	<script src="js/game.js"></script>
	
	<script type="text/javascript" src="http://apis.google.com/js/plusone.js"></script>
	
 </head>
  <body>
  
  <div class="navbar">
  <div class="navbar-inner">
    <a class="brand" href="#">RPG JS v2</a>
    <ul class="nav">
      <li><a target="_blank" href="http://rpgcreator.net">Editor</a></li>
      <li><a href="v2/doc">Documentation</a></li>
      <li><a target="_blank" href="https://github.com/RSamaium/RPG-JS">Github</a></li>
      <li><a href="https://github.com/RSamaium/RPG-JS/archive/master.zip">Download</a></li>
      <li><a target="_blank" href="https://twitter.com/webcreative5">Twitter</a></li>
    </ul>
  </div>
</div>


  <div role="main" class="container">
  
	<div class="hero-unit">
	  <h1>RPG JS v2</h1>
	  <p>
		Create your RPG 2D browser using the framework called RPG JS based on <a href="http://canvasengine.net">CanvasEngine</a>.
		
	  </p>
	  <p><small class="version">Version 2.0.0</small></p>
	  <ul class="network content"> 
				<li style="margin-top: 1px">
			<iframe src="http://www.facebook.com/plugins/like.php?href=http%3A%2F%2Frpgjs.com&amp;layout=button_count&amp;show_faces=false&amp;width=70&amp;action=like&amp;font&amp;colorscheme=light&amp;height=35" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:300px; height:35px;" allowTransparency="true"></iframe>
				</li>
				<li>
			<a href="http://twitter.com/share" class="twitter-share-button" data-count="horizontal">Tweet</a><script type="text/javascript" src="http://platform.twitter.com/widgets.js"></script>
				</li>
				<li style="width: 80px">
					<g:plusone size="medium"></g:plusone>
				</li>


		</li>
		</ul>
	</div>
  
	<div class="row-fluid">
	  <div class="span7">
		
			<div id="game" tabindex="0">
				 <canvas id="canvas" width="640px" height="480px"></canvas>
			</div>
		<p>
		  <small>Click into canvas to lock screen</small>
		</p>
	  </div>
	  <div class="span5">
	  
	  <div class="btn-group">
	  <a class="btn dropdown-toggle" data-toggle="dropdown" href="#">
		Player
		<span class="caret"></span>
	  </a>
	  <ul class="dropdown-menu code">
		 <li><a href="#" data-id="set_level">Change Level</a></li>
		 <li><a href="#" data-id="move_route">Move Route</a></li>
		 <li><a href="#" data-id="sprite_player">Get Sprite</a></li>
		 <li><a href="#" data-id="detection_events">Detect Events</a></li>
	  </ul>
	</div>
	
	 <div class="btn-group">
	  <a class="btn dropdown-toggle" data-toggle="dropdown" href="#">
		Event
		<span class="caret"></span>
	  </a>
	  <ul class="dropdown-menu code">
		 <li><a href="#" data-id="load_event">Load Event</a></li>
		 <li><a href="#" data-id="create_event">Create Event</a></li>
		 <li><a href="#" data-id="switch">Switch</a></li>
		 <li><a href="#" data-id="remove_event">Remove Event</a></li>
	  </ul>
	</div>
	  
	 <div class="btn-group">
	  <a class="btn dropdown-toggle" data-toggle="dropdown" href="#">
		Music
		<span class="caret"></span>
	  </a>
	  <ul class="dropdown-menu code">
		 <li><a href="#" data-id="bgm_play">Play</a></li>
		<!-- <li><a href="#" data-id="bgm_fade">Fade out</a></li> -->
	  </ul>
	</div>
	
	 <div class="btn-group">
	  <a class="btn dropdown-toggle" data-toggle="dropdown" href="#">
		Event Command
		<span class="caret"></span>
	  </a>
	  <ul class="dropdown-menu code">
		 <li><a href="#" data-id="exec_commands">Commands of an event</a></li>
		 <li><a href="#" data-id="common_events">Common Events</a></li>
		 <li><a href="#" data-id="interpreter">Show Text</a></li>
		 <li><a href="#" data-id="choices">Show Choices</a></li>
		 <li><a href="#" data-id="animation">Show Animation</a></li>
	  </ul>
	</div>
	  

<div id="editor">/**

1) Click on the buttons above for a 
predefined code and enter your code

2) Click the Execute button

Link to the main game file : 
http://rpgjs.com/js/game.js

*/
</div>
		 <button class="btn btn-success" type="button" id="exec">Execute</button>
	 </div>
	  

	  
	  <script src="ace-builds/src-noconflict/ace.js" type="text/javascript" charset="utf-8"></script>
		<script>
		
			
			$(function() {
				$('.code li a').click(function() {
				var id = $(this).attr('data-id');
				var code = $('#' + id).text();
				s.setValue(code);
				return false;
				});
				
				$('#exec').click(function() {
					var code = s.getValue();
					eval(code);
				});
				$('pre').hide();
				$("#game").focus(function(){
					$("body").css('overflow', 'hidden');
				});
				$("#game").blur(function(){
					$("body").css('overflow', 'auto');
				});
			});
			
			var editor = ace.edit("editor");
			var s = editor.getSession();
			s.setMode("ace/mode/javascript");
		
			

		</script>
	  
	</div>
	
	
	
	</div>
	
	<footer class="footer">
  <div class="container">
	<p class="pull-right"><a href="#">Back to top</a></p>
	<p>RPG JS is a free & open source HTML5 game engine</p>
	<p>License : MIT. Free for commercial use</p>
	<p>2013 <a href="http://webcreative5.net">Web Creative5</a></p>
  </div>
</footer>
	
<pre id="bgm_play">
RPGJS.System.bgmPlay(1);
</pre>

<pre id="bgm_fade">
RPGJS.System.fadeOutMusic();
</pre>

<pre id="interpreter">
var interpreter = Class.New("Interpreter");
				
interpreter.assignCommands([
	'SHOW_TEXT: {"text": "Hello World"}'
]);

interpreter.execCommands();
</pre>

<pre id="choices">
RPGJS.Player.freeze = true;
var interpreter = Class.New("Interpreter");
				
interpreter.assignCommands([
	"CHOICES: ['Yes', 'No', 'Maybe']",
	
	"CHOICE_0",
		"SHOW_TEXT: {'text': 'Yes :)'}",
	"CHOICE_1",
		"SHOW_TEXT: {'text': 'No :('}",
	"CHOICE_2",
		"SHOW_TEXT: {'text': 'Maybe :|'}",
		
	"ENDCHOICES"
]);

interpreter.execCommands(function() {
	RPGJS.Player.freeze = false;
});
</pre>

<pre id="animation">
var scene = RPGJS_Canvas.Scene.get("Scene_Map");
scene.animation(0, 1); // 0 is player
</pre>


<pre id="move_route">
RPGJS.Player.moveRoute(["left", "left", "speed_6", "left", "left", "speed_3"]);
</pre>

<pre id="load_event">
RPGJS.Map.loadEvent("EV-1", function(event_id, event, data) {
    event.display();   
});
</pre>

<pre id="create_event">
var ev = RPGJS.Map.createEvent("EV-2", 6, 12);

ev.addPage({
	"trigger": "action_button",
	"type": "fixed",
	"graphic": "3"
}, [
	'SCREEN_SHAKE: {"power":["7"],"speed":["4"],"duration": 25}'
]);

ev.display();
</pre>

<pre id="switch">
RPGJS.Switches.set(1, true);
</pre>

<pre id="common_events">
var common = Class.New("Game_CommonEvents", [1]);
common.exec();
</pre>

<pre id="exec_commands">
/**
	Load Event #1 before
*/

var ev = RPGJS.Map.getEvent(1);
ev.execCommands();
</pre>

<pre id="remove_event">
/**
	Load Event #1 before
*/

var ev = RPGJS.Map.getEvent(1);
ev.remove();
</pre>

<pre id="sprite_player">
var scene = RPGJS_Canvas.Scene.get("Scene_Map");
var spriteset = scene.getSpriteset(); 
var chara = spriteset.getEvent(0); // 0 is player

// new element (CanvasEngine) 
// http://canvasengine.net/doc/?p=tuto-element.html
var el = scene.createElement(), size = 32 * 10;
el.fillStyle = "red";
el.fillRect(-size/2, -size/2, size, size);
el.opacity = 0.3;

chara.getSprite().append(el);
</pre>

<pre id="set_level">
RPGJS.Player.setLevel(10);
</pre>

<pre id="detection_events">

/**
	Load Events before
*/

var events = RPGJS.Player.detectionEvents(32 * 5), ev;
for (var i=0 ; i < events.length ; i++) {
	ev = events[i];
	ev.remove();
}
</pre>


  </body>
</html>